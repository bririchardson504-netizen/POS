<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>La Stella d’Oro POS</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="top">
    <div class="brand">La Stella d’Oro</div>
    <div class="right">
      <span id="roleBadge" class="badge">Signed out</span>
      <button id="btnSignOut" class="btn ghost" hidden>Sign out</button>
    </div>
  </header>

  <!-- LOGIN -->
  <main id="viewLogin" class="wrap">
    <section class="card">
      <h1>POS Login</h1>
      <p class="muted">Staff can ring orders. Manager code is required for void/comp/discount.</p>

      <div class="two">
        <div>
          <label>Staff Code</label>
          <input id="staffCode" inputmode="numeric" placeholder="1111" />
          <button id="btnStaff" class="btn">Sign in as Staff</button>
        </div>

        <div>
          <label>Manager Code</label>
          <input id="managerCode" inputmode="numeric" placeholder="9999" />
          <button id="btnManager" class="btn dark">Sign in as Manager</button>
        </div>
      </div>

      <details class="muted small">
        <summary>Default codes</summary>
        Staff: <code>1111</code> &nbsp; Manager: <code>9999</code>
      </details>
    </section>
  </main>

  <!-- POS -->
  <main id="viewPos" class="wrap" hidden>
    <section class="grid2">
      <!-- MENU -->
      <section class="card">
        <div class="row space">
          <h2>Menu</h2>
          <input id="menuSearch" class="search" placeholder="Search…" />
        </div>

        <div id="catBar" class="catBar"></div>
        <div id="menuGrid" class="menuGrid"></div>
      </section>

      <!-- TICKET -->
      <section class="card">
        <div class="row space">
          <h2>Ticket</h2>
          <div class="row gap">
            <select id="tableSelect" class="select">
              <option value="">No table</option>
              <option>Table 1</option><option>Table 2</option><option>Table 3</option>
              <option>Table 4</option><option>Table 5</option><option>To-go</option>
            </select>
            <button id="btnNew" class="btn ghost smallBtn">New</button>
          </div>
        </div>

        <div id="ticketList" class="ticket"></div>

        <div class="totals">
          <div class="row"><span>Subtotal</span><span id="tSubtotal">$0.00</span></div>
          <div class="row"><span>Discount</span><span id="tDiscount">$0.00</span></div>
          <div class="row"><span>Tax</span><span id="tTax">$0.00</span></div>
          <div class="row total"><span>Total</span><span id="tTotal">$0.00</span></div>
        </div>

        <div class="actions">
          <button id="btnDiscount" class="btn ghost">Discount</button>
          <button id="btnComp" class="btn ghost">Comp</button>
          <button id="btnVoid" class="btn ghost">Void</button>
          <button id="btnReceipt" class="btn dark">Receipt / Print</button>
        </div>

        <p id="hint" class="hint" hidden>Manager code required.</p>
      </section>
    </section>
  </main>

  <!-- MODS DIALOG -->
  <dialog id="dlgMods" class="dlg">
    <form method="dialog" class="dlgBody">
      <div class="dlgTop">
        <strong id="modsTitle">Mods</strong>
        <button class="btn ghost smallBtn" value="close">Close</button>
      </div>
      <div id="modsBody" class="modsBody"></div>
      <div class="row gap">
        <button id="btnModsSave" class="btn dark" type="button">Save Mods</button>
        <button id="btnModsClear" class="btn ghost" type="button">Clear</button>
      </div>
    </form>
  </dialog>

  <!-- DISCOUNT DIALOG -->
  <dialog id="dlgDiscount" class="dlg">
    <form method="dialog" class="dlgBody">
      <div class="dlgTop">
        <strong>Discount</strong>
        <button class="btn ghost smallBtn" value="close">Close</button>
      </div>

      <label>Type</label>
      <select id="discType" class="select">
        <option value="percent">Percent (%)</option>
        <option value="amount">Amount ($)</option>
      </select>

      <label>Value</label>
      <input id="discValue" inputmode="decimal" placeholder="10" />

      <div class="row gap">
        <button id="btnDiscApply" class="btn dark" type="button">Apply</button>
        <button id="btnDiscClear" class="btn ghost" type="button">Clear</button>
      </div>
    </form>
  </dialog>

  <!-- RECEIPT VIEW -->
  <main id="viewReceipt" class="wrap" hidden>
    <section class="card receiptCard">
      <div class="center">
        <h2 id="rName">La Stella d’Oro</h2>
        <div id="rMeta" class="muted"></div>
      </div>
      <hr/>
      <div id="rItems"></div>
      <hr/>
      <div class="row"><span>Subtotal</span><span id="rSubtotal"></span></div>
      <div class="row"><span>Discount</span><span id="rDiscount"></span></div>
      <div class="row"><span>Tax</span><span id="rTax"></span></div>
      <div class="row total"><span>Total</span><span id="rTotal"></span></div>
      <hr/>
      <div class="row gap noprint">
        <button id="btnBack" class="btn ghost">Back</button>
        <button id="btnPrint" class="btn dark">Print</button>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
